<?xml version="1.0" encoding="utf-8"?><testsuites name="pytest tests"><testsuite name="pytest" errors="0" failures="13" skipped="3" tests="16" time="1.069" timestamp="2026-02-04T15:35:26.279816+00:00" hostname="agent-env-1f8a6781-9362-432f-8010-554b218d13c5"><testcase classname="backend.tests.test_bp_revenue_override.TestBPRevenueOverride" name="test_01_get_pending_bp_overrides_endpoint_exists" time="0.495"><failure message="AssertionError: Expected 200, got 401: {&quot;detail&quot;:&quot;Invalid token&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_bp_revenue_override.py:60: in test_01_get_pending_bp_overrides_endpoint_exists
    assert response.status_code == 200, f"Expected 200, got {response.status_code}: {response.text}"
E   AssertionError: Expected 200, got 401: {"detail":"Invalid token"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_bp_revenue_override.TestBPRevenueOverride" name="test_02_bp_override_approval_requires_booking" time="0.014"><failure message="AssertionError: Expected 404 for fake booking, got 401&#10;assert 401 == 404&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_bp_revenue_override.py:77: in test_02_bp_override_approval_requires_booking
    assert response.status_code == 404, f"Expected 404 for fake booking, got {response.status_code}"
E   AssertionError: Expected 404 for fake booking, got 401
E   assert 401 == 404
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_bp_revenue_override.TestBPRevenueOverride" name="test_03_bp_override_edit_requires_booking" time="0.015"><failure message="AssertionError: Expected 404 for fake booking, got 401&#10;assert 401 == 404&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_bp_revenue_override.py:89: in test_03_bp_override_edit_requires_booking
    assert response.status_code == 404, f"Expected 404 for fake booking, got {response.status_code}"
E   AssertionError: Expected 404 for fake booking, got 401
E   assert 401 == 404
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_bp_revenue_override.TestBPRevenueOverride" name="test_04_bp_override_approval_requires_rejection_reason" time="0.053"><skipped type="pytest.skip" message="No approved bookings available for testing">/app/backend/tests/test_bp_revenue_override.py:98: No approved bookings available for testing</skipped></testcase><testcase classname="backend.tests.test_bp_revenue_override.TestBPRevenueOverride" name="test_05_verify_bp_override_permissions_in_roles" time="0.019"><failure message="AssertionError: Failed to get permissions: {&quot;detail&quot;:&quot;Invalid token&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_bp_revenue_override.py:117: in test_05_verify_bp_override_permissions_in_roles
    assert response.status_code == 200, f"Failed to get permissions: {response.text}"
E   AssertionError: Failed to get permissions: {"detail":"Invalid token"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_bp_revenue_override.TestBPRevenueOverride" name="test_06_bp_role_has_override_permission" time="0.013"><failure message="AssertionError: Failed to get BP role: {&quot;detail&quot;:&quot;Invalid token&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_bp_revenue_override.py:140: in test_06_bp_role_has_override_permission
    assert response.status_code == 200, f"Failed to get BP role: {response.text}"
E   AssertionError: Failed to get BP role: {"detail":"Invalid token"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_bp_revenue_override.TestBPRevenueOverride" name="test_07_partners_desk_has_override_permission" time="0.014"><failure message="AssertionError: Failed to get Partners Desk role: {&quot;detail&quot;:&quot;Invalid token&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_bp_revenue_override.py:160: in test_07_partners_desk_has_override_permission
    assert response.status_code == 200, f"Failed to get Partners Desk role: {response.text}"
E   AssertionError: Failed to get Partners Desk role: {"detail":"Invalid token"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_bp_revenue_override.TestBPRevenueOverride" name="test_08_pe_desk_has_approve_override_permission" time="0.013"><failure message="AssertionError: Failed to get PE Desk role: {&quot;detail&quot;:&quot;Invalid token&quot;}&#10;assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_bp_revenue_override.py:179: in test_08_pe_desk_has_approve_override_permission
    assert response.status_code == 200, f"Failed to get PE Desk role: {response.text}"
E   AssertionError: Failed to get PE Desk role: {"detail":"Invalid token"}
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_bp_revenue_override.TestBPRevenueOverride" name="test_09_check_pending_bp_overrides_structure" time="0.012"><failure message="assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_bp_revenue_override.py:194: in test_09_check_pending_bp_overrides_structure
    assert response.status_code == 200
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_bp_revenue_override.TestBPRevenueOverride" name="test_10_bp_override_approval_response_structure" time="0.052"><failure message="AssertionError: Expected validation/not found, got 401&#10;assert 401 in [400, 404, 422]&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_bp_revenue_override.py:231: in test_10_bp_override_approval_response_structure
    assert response.status_code in [400, 404, 422], \
E   AssertionError: Expected validation/not found, got 401
E   assert 401 in [400, 404, 422]
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_bp_revenue_override.TestBPRevenueOverride" name="test_11_bp_override_edit_requires_override_percent" time="0.014"><skipped type="pytest.skip" message="No bookings available for testing">/app/backend/tests/test_bp_revenue_override.py:241: No bookings available for testing</skipped></testcase><testcase classname="backend.tests.test_bp_revenue_override.TestBPRevenueOverride" name="test_12_bp_override_edit_validates_percentage_range" time="0.053"><skipped type="pytest.skip" message="No bookings available for testing">/app/backend/tests/test_bp_revenue_override.py:261: No bookings available for testing</skipped></testcase><testcase classname="backend.tests.test_bp_revenue_override.TestBPRevenueOverride" name="test_13_check_bp_booking_in_bookings_list" time="0.012"><failure message="assert 401 == 200&#10; +  where 401 = &lt;Response [401]&gt;.status_code">backend/tests/test_bp_revenue_override.py:288: in test_13_check_bp_booking_in_bookings_list
    assert response.status_code == 200
E   assert 401 == 200
E    +  where 401 = &lt;Response [401]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_bp_revenue_override.TestBPOverrideWithoutAuth" name="test_01_pending_bp_overrides_requires_auth" time="0.039"><failure message="AssertionError: Expected 401 without auth, got 403&#10;assert 403 == 401&#10; +  where 403 = &lt;Response [403]&gt;.status_code">backend/tests/test_bp_revenue_override.py:314: in test_01_pending_bp_overrides_requires_auth
    assert response.status_code == 401, \
E   AssertionError: Expected 401 without auth, got 403
E   assert 403 == 401
E    +  where 403 = &lt;Response [403]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_bp_revenue_override.TestBPOverrideWithoutAuth" name="test_02_bp_override_approval_requires_auth" time="0.035"><failure message="AssertionError: Expected 401 without auth, got 403&#10;assert 403 == 401&#10; +  where 403 = &lt;Response [403]&gt;.status_code">backend/tests/test_bp_revenue_override.py:326: in test_02_bp_override_approval_requires_auth
    assert response.status_code == 401, \
E   AssertionError: Expected 401 without auth, got 403
E   assert 403 == 401
E    +  where 403 = &lt;Response [403]&gt;.status_code</failure></testcase><testcase classname="backend.tests.test_bp_revenue_override.TestBPOverrideWithoutAuth" name="test_03_bp_override_edit_requires_auth" time="0.035"><failure message="AssertionError: Expected 401 without auth, got 403&#10;assert 403 == 401&#10; +  where 403 = &lt;Response [403]&gt;.status_code">backend/tests/test_bp_revenue_override.py:337: in test_03_bp_override_edit_requires_auth
    assert response.status_code == 401, \
E   AssertionError: Expected 401 without auth, got 403
E   assert 403 == 401
E    +  where 403 = &lt;Response [403]&gt;.status_code</failure></testcase></testsuite></testsuites>